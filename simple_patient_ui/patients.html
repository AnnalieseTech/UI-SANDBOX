<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Patient Management System</title>
    <link rel="stylesheet" href="css/normalize.css" />
    <link rel="stylesheet" href="css/style.css">
    <script src="js/script.js"></script>
</head>

<body>

    <header>
        <h1><img class="icon" src="img/medical.png"> Patient Management</h1>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="patients.html">Patients</a></li>
                <li><a href="about_us.html">About Us</a></li>
                <li><a href="contact_us.html">Contact Us</a></ali>
            </ul>
        </nav>
    </header>

    <main>
        <section class="patients-list">
            <table id="patients-table">
            </table>
        </section>
        <form id="add-patient-form">
            <input type="submit" value="Add Patient" id="submit-add-patient">
        </form>
    </main>

    <footer>
        <p>&copy; 2023 Amazing Patient Management System</p>
    </footer>

    <script type="module">
        
        //Variable Declaration (var, let, const)
        let patients = []; // Holds the list of patients
        const patientFormElement = document.querySelector("#add-patient-form"); // Form to add/update patients

        // Basic Function (Creating a function to add a patient)
        function addPatient(
            newPatient
        ) {
            
            const patient = {
                id: patients.length + 1,
                first_name: newPatient.first_name,
                last_name: newPatient.last_name,
                physician_id: newPatient.physician_id,
                ssn: newPatient.ssn,
                gender: newPatient.gender,
                address: newPatient.address,
                dob: newPatient.dob,
            };
            patients.push(patient);
            console.log ("push patient:: ", patient)
            addRow("patients-table", patient);
        }

        function Patient(
            first_name,
            last_name,
            physician_id,
            dob,
            ssn,
            gender, 
            address
        ) {
            this.first_name = first_name;
            this.last_name = last_name;
            this.physician_id = physician_id;
            this.ssn = ssn;
            this.gender = gender;
            this.address = address;
            this.dob;
        }

        var submitBtn = document.getElementById("submit-add-patient");
        submitBtn.addEventListener("click", submitForm, false);

        function submitForm(event) {
            event.preventDefault();

            function choose(choices) {
                var index = Math.floor(Math.random() * choices.length);
                return choices[index];
            }

            // Using a constructor
            const newPatient = new Patient(
                "newPatient".concat(Math.floor(Math.random())),
                "Doe",
                Math.floor(Math.random()),
                new Date(Date.now()),
                Math.floor(Math.random() * 1000000000),
                Math.floor(Math.random() * 1000000000),
                choose(["Female", "Male"]),
                "123 some address, somewheresville, USA"
            );
            console.log("newpatient:: ", JSON.stringify(newPatient))
            addPatient(newPatient);

        }

    </script>

</body>

</html>